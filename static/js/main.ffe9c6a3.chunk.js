(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(43)},19:function(e,n,t){},39:function(e,n,t){},41:function(e,n,t){},42:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(9),o=t.n(i),c=(t(19),t(5)),u=t.n(c),s=t(6),l=t(10),f=t(2),d={loading:!1,data:[]},h=a.a.createContext(d),m=t(11),w=t.n(m),g={LINE:"line",X:"x"},v=t(12),p=t(1),b=t.n(p),O=b.a.arrayOf(b.a.oneOfType([b.a.string,b.a.number])),j=b.a.objectOf(b.a.oneOf(Object(v.a)(Object.values(g)))),E=b.a.objectOf(b.a.string);b.a.shape({columns:b.a.arrayOf(O).isRequired,types:j.isRequired,names:E.isRequired,colors:E.isRequired});var x=function(){var e=Object(r.useState)({height:window.innerHeight,width:window.innerWidth}),n=Object(f.a)(e,2),t=n[0],a=n[1],i=function(){return{height:window.innerHeight,width:window.innerWidth}};return Object(r.useEffect)(function(){var e=function(){return a(i)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),t},y=function(e,n){var t=Object(r.useRef)(),a=function n(){t.current=window.requestAnimationFrame(n),e()};Object(r.useLayoutEffect)(function(){return t.current=window.requestAnimationFrame(a),function(){return window.cancelAnimationFrame(t.current)}},[n])},k=(t(39),function(e){var n=e.lines,t=e.colors,i=e.height,o=Object(r.useRef)(null),c=x();return y(function(){if(o.current&&o.current.getContext){var e=o.current.getContext("2d");e.clearRect(0,0,o.current.width,o.current.height),e.fillStyle="#6a6e72",e.fillRect(0,0,o.current.width,o.current.height);var r=o.current.width/n[0].points.length,a=Math.max.apply(null,n.map(function(e){return Math.max.apply(null,e.points)})),c=i/a;n.forEach(function(n){var a=n.id,o=n.points;e.beginPath(),e.strokeStyle=t[a],e.moveTo(0,i-o[1]*c);for(var u=o.length,s=2;s<u;s+=1)e.lineTo(r*s,i-o[s]*c);e.stroke()})}else console.error("Canvas not supported: ",o)},n),a.a.createElement("canvas",{ref:o,className:"Canvas",height:i,width:c.width})});k.defaultProps={height:300};var C=k,R=(t(40),t(41),function(e){var n=e.chart,t=n.columns,i=n.types,o=n.names,c=n.colors,u=t.filter(function(e){return i[e[0]]===g.X})[0],s=Object(r.useState)({min:0,max:u.length-1}),l=Object(f.a)(s,2),d=l[0],h=l[1],m=t.filter(function(e){return i[e[0]]===g.LINE}).map(function(e){return{id:e[0],points:e.slice(d.min+1,d.max)}});return a.a.createElement("div",{className:"Chart"},a.a.createElement(C,{lines:m,axis:{id:u[0],points:u.slice(1)},names:o,colors:c,height:450}),a.a.createElement(w.a,{draggableTrack:!0,maxValue:u.length-1,minValue:0,value:d,onChange:function(e){h(e)}}))}),q=function(){var e=Object(r.useContext)(h).data.map(function(e,n){return a.a.createElement("div",null,a.a.createElement(R,{key:n,chart:e}))});return a.a.createElement(a.a.Fragment,null,e)},L=function(){var e=Object(r.useContext)(h),n=e.loading,t=e.data,i=n||!t.length;return a.a.createElement("div",{className:"App"},i&&a.a.createElement("div",null,"Loading ..."),!i&&a.a.createElement(q,null))},S=(t(42),function(){var e=Object(r.useState)(d),n=Object(f.a)(e,2),t=n[0],i=n[1],o=function(){var e=Object(l.a)(u.a.mark(function e(){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(Object(s.a)({},t,{loading:!0})),e.next=3,fetch("/telegram-coding-contest-charts/chart_data.json");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,i(Object(s.a)({},t,{loading:!1,data:r}));case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){try{o()}catch(e){console.error("Something goes wrong; API problems? ",e)}},[]),a.a.createElement(h.Provider,{value:t},a.a.createElement(L,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.ffe9c6a3.chunk.js.map